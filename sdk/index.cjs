function e(){return e=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.apply(this,arguments)}var r="https://api.zebedee.io",t="/v0/charges",n="/v0/static-charges",o="/v0/payments",s="/v0/withdrawal-requests",a=function(r){var t=r.url,n=r.headers;try{return Promise.resolve(fetch(t,{method:"GET",headers:e({"Content-Type":"application/json"},n)})).then(function(e){function r(r){return Promise.resolve(e.json())}var t=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(r){throw{status:e.status,message:r.message||"API request failed"}})}();return t&&t.then?t.then(r):r()})}catch(e){return Promise.reject(e)}},i=function(r){var t=r.url,n=r.body,o=r.headers;try{return Promise.resolve(fetch(t,{method:"POST",headers:e({"Content-Type":"application/json"},o),body:JSON.stringify(c(n))})).then(function(e){function r(r){return Promise.resolve(e.json())}var t=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(r){throw{status:e.status,message:r.message||"API request failed"}})}();return t&&t.then?t.then(r):r()})}catch(e){return Promise.reject(e)}},c=function(e){for(var r={},t=0,n=Object.entries(e);t<n.length;t++){var o=n[t],s=o[1];null!=s&&(r[o[0]]=s)}return r};function u(e,r){try{var t=e()}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}var l=/*#__PURE__*/function(){function l(e){this.apiKey=void 0,this.apiBaseUrl=void 0,this.apiCoreHeaders=void 0,this.apiKey=e,this.apiBaseUrl=r,this.apiCoreHeaders={apikey:e}}var h=l.prototype;return h.createCharge=function(n){try{var o=this;return Promise.resolve(u(function(){var s=n.amount,a=n.expiresIn,c=n.internalId,u=n.description,l=n.callbackUrl;return Promise.resolve(i({url:""+r+t,headers:e({},o.apiCoreHeaders),body:{amount:s,expiresIn:a,internalId:c,description:u,callbackUrl:l}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.getCharge=function(n){try{var o=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:""+r+t+"/"+n,headers:e({},o.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.createWithdrawalRequest=function(t){try{var n=this;return Promise.resolve(u(function(){var o=t.amount,a=t.expiresIn,c=t.internalId,u=t.callbackUrl,l=t.description;return Promise.resolve(i({url:""+r+s,headers:e({},n.apiCoreHeaders),body:{amount:o,expiresIn:a,internalId:c,callbackUrl:u,description:l}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.getWithdrawalRequest=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:""+r+s+"/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.validateLightningAddress=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/ln-address/validate/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.sendLightningAddressPayment=function(t){try{var n=t.amount,o=t.comment,s=t.lnAddress,a=t.internalId,c=t.callbackUrl;return Promise.resolve(i({url:r+"/v0/ln-address/send-payment",headers:e({},this.apiCoreHeaders),body:{amount:n,comment:o,lnAddress:s,internalId:a,callbackUrl:c}}))}catch(e){return Promise.reject(e)}},h.getWallet=function(){try{return Promise.resolve(a({url:r+"/v0/wallet",headers:e({},this.apiCoreHeaders)}))}catch(e){return Promise.reject(e)}},h.isSupportedRegion=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/is-supported-region/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.fetchZBDProdIps=function(){try{var t=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/prod-ips",headers:e({},t.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.btcUsdExchangeRate=function(){try{var t=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/btcusd",headers:e({},t.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.internalTransfer=function(t){try{var n=this;return Promise.resolve(u(function(){var o=t.amount,s=t.receiverWalletId;return Promise.resolve(i({url:r+"/v0/internal-transfer",headers:e({},n.apiCoreHeaders),body:{amount:o,receiverWalletId:s}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.sendKeysendPayment=function(t){try{var n=this;return Promise.resolve(u(function(){var o=t.amount,s=t.pubkey,a=t.metadata,c=t.tlvRecords,u=t.callbackUrl;return Promise.resolve(i({url:r+"/v0/keysend-payment",headers:e({},n.apiCoreHeaders),body:{amount:o,pubkey:s,metadata:a,tlvRecords:c,callbackUrl:u}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.payCharge=function(t){try{var n=this;return Promise.resolve(u(function(){var s=t.amount,a=t.invoice,c=t.internalId,u=t.description,l=t.callbackUrl;return Promise.resolve(i({url:""+r+o,headers:e({},n.apiCoreHeaders),body:{amount:s,invoice:a,internalId:c,description:u,callbackUrl:l}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.getPayment=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:""+r+o+"/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.sendGamertagPayment=function(t){try{var n=this;return Promise.resolve(u(function(){var o=t.amount,s=t.gamertag,a=t.description;return Promise.resolve(i({url:r+"/v0/gamertag/send-payment",headers:e({},n.apiCoreHeaders),body:{amount:o,gamertag:s,description:a}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.fetchGamertagTransaction=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/gamertag/transaction/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.fetchUserIdByGamertag=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/user-id/gamertag/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.fetchGamertagByUserId=function(t){try{var n=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:r+"/v0/gamertag/user-id/"+t,headers:e({},n.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.createGamertagCharge=function(t){try{var n=this;return Promise.resolve(u(function(){var o=t.amount,s=t.gamertag,a=t.internalId,c=t.description,u=t.callbackUrl;return Promise.resolve(i({url:r+"/v0/gamertag/charges",headers:e({},n.apiCoreHeaders),body:{amount:o,gamertag:s,internalId:a,description:c,callbackUrl:u}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.createStaticCharge=function(t){try{var o=this;return Promise.resolve(u(function(){var s=t.allowedSlots,a=t.minAmount,c=t.maxAmount,u=t.description,l=t.internalId,h=t.callbackUrl,d=t.successMessage;return Promise.resolve(i({url:""+r+n,headers:e({},o.apiCoreHeaders),body:{minAmount:a,maxAmount:c,internalId:l,callbackUrl:h,description:u,allowedSlots:s,successMessage:d}}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.updateStaticCharge=function(t,o){try{var s=this;return Promise.resolve(u(function(){return Promise.resolve(function(r){var t=r.url,n=r.body,o=r.headers;try{return Promise.resolve(fetch(t,{method:"PATCH",headers:e({"Content-Type":"application/json"},o),body:JSON.stringify(c(n))})).then(function(e){function r(r){return Promise.resolve(e.json())}var t=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(r){throw{status:e.status,message:r.message||"API request failed"}})}();return t&&t.then?t.then(r):r()})}catch(e){return Promise.reject(e)}}({url:""+r+n+"/"+t,headers:e({},s.apiCoreHeaders),body:o}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},h.getStaticCharge=function(t){try{var o=this;return Promise.resolve(u(function(){return Promise.resolve(a({url:""+r+n+"/"+t,headers:e({},o.apiCoreHeaders)}))},function(e){throw e}))}catch(e){return Promise.reject(e)}},l}();exports.types={__proto__:null},exports.zbd=l;
//# sourceMappingURL=index.cjs.map
